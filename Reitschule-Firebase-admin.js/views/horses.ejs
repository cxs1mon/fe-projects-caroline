<!DOCTYPE html>
<html>
  <head>
    <title>Horse Management</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    />
    <script src="/main.js" defer></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
  </head>
  <body class="container">
    <div class="row justify-content-center">
      <table class="table">
        <tr>
          <th>Name</th>
          <th>Birthyear</th>
          <th>Color</th>
          <th>Breed</th>
          <th>Text</th>
          <th>Edit</th>
          <th>Delete</th>
        </tr>
        <% horses.forEach(horse => { %>
        <tr>
          <td><%= horse.name %></td>
          <td><%= horse.birthyear %></td>
          <td><%= horse.color %></td>
          <td><%= horse.breed %></td>
          <td><%= horse.text %></td>
          <td>
            <form action="/api/edit/<%= horse.id %>" method="GET">
              <button class="btn btn-sm btn-info edit-btn">Edit</button>
            </form>
          </td>
          <td>
            <form action="/api/delete/<%= horse.id %>" method="POST">
              <button class="btn btn-sm btn-danger delete-btn">Delete</button>
            </form>
          </td>
        </tr>
        <% }); %>
      </table>

      <div class="justify-content-center">
        <form action="/api/delete-all" method="POST">
          <button class="btn btn-sm btn-danger delete-all-btn">
            Delete all horses
          </button>
        </form>

        <details>
          <summary>Add new horse</summary>
          <form id="myForm" class="w-75">
            <div class="row">
              <div class="col form-group m-2">
                <input
                  id="name"
                  type="text"
                  class="form-control"
                  placeholder="Name"
                />
              </div>
              <div class="col form-group m-2">
                <input
                  id="birthyear"
                  type="number"
                  class="form-control"
                  placeholder="Birthyear"
                />
              </div>
            </div>
            <div class="row">
              <div class="col form-group m-2">
                <input
                  id="color"
                  type="text"
                  class="form-control"
                  placeholder="Color"
                />
              </div>
              <div class="col form-group m-2">
                <input
                  id="breed"
                  type="text"
                  class="form-control"
                  placeholder="Breed"
                />
              </div>
              <div class="col form-group m-2">
                <input
                  id="text"
                  type="text"
                  class="form-control"
                  placeholder="Text"
                />
              </div>
            </div>
            <button class="btn btn-primary m-2" id="form-submit" type="submit">Submit</button>
          </form>
        </details>
      </div>
    </div>
  </body>
</html>
